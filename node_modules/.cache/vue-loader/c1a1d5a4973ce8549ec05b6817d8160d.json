{"remainingRequest":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\ProgrammingLanguage\\git\\hacker_game\\src\\app\\components\\room\\RoomWait.vue?vue&type=style&index=0&id=d1b3bb36&lang=css","dependencies":[{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\src\\app\\components\\room\\RoomWait.vue","mtime":1655200322000},{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\css-loader\\dist\\cjs.js","mtime":1654422670000},{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1654422688000},{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\postcss-loader\\src\\index.js","mtime":1654422676000},{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654422664000},{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1654422684000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIC53aW5kb3ctLWNlbnRlciB7DQogICAgcG9zaXRpb246IGFic29sdXRlOw0KICAgIHRvcDogNTAlOw0KICAgIGxlZnQ6IDUwJTsNCiAgfQ0KDQogIC5kaXYtLWNlbnRlciB7DQogICAgdGV4dC1hbGlnbjogY2VudGVyICFpbXBvcnRhbnQ7DQogIH0NCg0KICAucm9vbVdhaXQtLWhlaWdodCB7DQogICAgaGVpZ2h0OiA2NTBweDsNCiAgfQ0KDQogIC5wbGF5ZXJJdGVtLS1kaXYgew0KICAgIGhlaWdodDogNTAwcHg7DQogICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICB9DQo="},{"version":3,"sources":["E:\\ProgrammingLanguage\\git\\hacker_game\\src\\app\\components\\room\\RoomWait.vue"],"names":[],"mappings":";EAkJE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACR,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACX;;EAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC/B;;EAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACf;;EAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACpB","file":"E:/ProgrammingLanguage/git/hacker_game/src/app/components/room/RoomWait.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div id=\"roomWaitPlayer\">\r\n    <div class=\"box roomWait--height\">\r\n      <div\r\n        name=\"title\"\r\n        style=\"height:60px; text-align:center\"\r\n        class=\"title-div\"\r\n      >\r\n        <span style=\"font-size:25px;\">{{ this.roomItem.name }}</span>\r\n      </div>\r\n      <div class=\"columns\">\r\n        <div class=\"column playerItem--div\">\r\n          <a class=\"box\" style=\"height:100%;\" @click=\"inTheRedRoom\">\r\n            <span style=\"font-size:100px; color: red\">\r\n              {{ this.roomItem.player1Name }}</span\r\n            >\r\n          </a>\r\n        </div>\r\n        <div class=\"column\" style=\"height:500px\">\r\n          <a class=\"box\" style=\"height:100%;\" @click=\"inTheBlueRoom\">\r\n            <span style=\"font-size:100px; color: blue\">\r\n              {{ this.roomItem.player2Name }}</span\r\n            >\r\n          </a>\r\n        </div>\r\n      </div>\r\n      <div name=\"start\" style=\"text-align: center; height:25px\">\r\n        <!-- <router-link :to=\"{ path: '/register', query: { plan: 'private' } }\">\r\n          >開始</router-link\r\n        > -->\r\n        <a class=\"button\" @click=\"startRoom\">開始</a>\r\n        <a class=\"button\" @click=\"deleteRoom\">刪除房間</a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { mapGetters } from \"vuex\";\r\n\r\n  export default {\r\n    name: \"RoomWait\",\r\n    data() {\r\n      return {\r\n        roomTitle: \"Come to play!!\",\r\n        roomPassword: \"\",\r\n        roomItem: [],\r\n      };\r\n    },\r\n    props: [\"roomId\", \"startRoomItem\"],\r\n\r\n    created() {\r\n      this.roomItem = this.startRoomItem;\r\n      // 獲得玩家資訊\r\n      this.$store.dispatch(\"getPlayerItems\").then(() => {\r\n        const token = localStorage.getItem(\"token\");\r\n        this.playerItem = this.$store.getters.playerItemFromToken(token);\r\n      });\r\n      console.log(\"this.roomId\", this.roomId);\r\n    },\r\n\r\n    mounted() {\r\n      // 定時任務(每秒執行);\r\n      let that = this;\r\n      this.timer = setInterval(function() {\r\n        that.$store.dispatch(\"getRoomItems\").then(() => {\r\n          that.roomItem = that.$store.getters.roomItemFromId(\r\n            Number(that.roomId)\r\n          );\r\n        });\r\n      }, 500);\r\n    },\r\n\r\n    computed: {\r\n      ...mapGetters([\"roomItems\"]), // mix the getters into computed with object spread operator\r\n    },\r\n    methods: {\r\n      createRoom() {\r\n        var lastId = 0;\r\n        if (!this.roomItems[this.roomItems.length - 1]) lastId = 1;\r\n        else lastId = this.roomItems[this.roomItems.length - 1].id + 1;\r\n\r\n        var newRoom = {\r\n          id: lastId,\r\n          name: this.roomTitle,\r\n          createrId: this.playerItem.id,\r\n          player1Id: this.playerItem.id,\r\n          player1Name: this.playerItem.name,\r\n          player2Id: null,\r\n          player2Name: null,\r\n          start: false,\r\n          password: this.roomPassword,\r\n        };\r\n\r\n        console.log(\"newRoom\", newRoom);\r\n        this.$store.dispatch(\"addRoomItem\", newRoom).then(() => {\r\n          // this.$router.push(\"/\");\r\n        });\r\n      },\r\n      deleteRoom() {\r\n        const deleteItem = { id: this.roomId };\r\n        this.$store.dispatch(\"removeRoomItem\", deleteItem).then(() => {\r\n          this.$parent.isCreate = false;\r\n          this.$parent.isInRoom = false;\r\n        });\r\n      },\r\n      startRoom() {\r\n        this.$router.push(\"/roomStart/\" + this.roomItem.id, {\r\n          name: this.roomItem.id,\r\n        });\r\n      },\r\n\r\n      inTheRedRoom() {\r\n        if (\r\n          this.roomItem.player1Id == null &&\r\n          this.roomItem.player2Id != this.playerItem.id\r\n        ) {\r\n          this.roomItem.player1Id = this.playerItem.id;\r\n          this.roomItem.player1Name = this.playerItem.name;\r\n        } else if (this.roomItem.player1Id == this.playerItem.id) {\r\n          this.roomItem.player1Id = null;\r\n          this.roomItem.player1Name = null;\r\n        }\r\n        console.log(this.roomItem);\r\n        this.$store.dispatch(\"updateRoomStart\", this.roomItem).then(() => {});\r\n      },\r\n\r\n      inTheBlueRoom() {\r\n        if (\r\n          this.roomItem.player2Id == null &&\r\n          this.roomItem.player1Id != this.playerItem.id\r\n        ) {\r\n          this.roomItem.player2Id = this.playerItem.id;\r\n          this.roomItem.player2Name = this.playerItem.name;\r\n        } else if (this.roomItem.player2Id == this.playerItem.id) {\r\n          this.roomItem.player2Id = null;\r\n          this.roomItem.player2Name = null;\r\n        }\r\n        console.log(this.roomItem);\r\n        this.$store.dispatch(\"updateRoomStart\", this.roomItem).then(() => {});\r\n      },\r\n    },\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .window--center {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n  }\r\n\r\n  .div--center {\r\n    text-align: center !important;\r\n  }\r\n\r\n  .roomWait--height {\r\n    height: 650px;\r\n  }\r\n\r\n  .playerItem--div {\r\n    height: 500px;\r\n    text-align: center;\r\n  }\r\n</style>\r\n"]}]}