{"remainingRequest":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\thread-loader\\dist\\cjs.js!E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\babel-loader\\lib\\index.js!E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\ProgrammingLanguage\\git\\hacker_game\\src\\app\\store\\modules\\login\\index.js","dependencies":[{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\src\\app\\store\\modules\\login\\index.js","mtime":1654882990000},{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654422664000},{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1654422662000},{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\babel-loader\\lib\\index.js","mtime":1654422676000},{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\eslint-loader\\index.js","mtime":1654422668000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CnZhciBzdGF0ZSA9IHsKICB0b2tlbjogbnVsbCwKICBsb2FkaW5nOiBmYWxzZQp9Owp2YXIgbXV0YXRpb25zID0gewogIFNFVF9UT0tFTjogZnVuY3Rpb24gU0VUX1RPS0VOKHN0YXRlLCB0b2tlbikgewogICAgc3RhdGUudG9rZW4gPSB0b2tlbjsKICB9LAogIExPR0lOX1BFTkRJTkc6IGZ1bmN0aW9uIExPR0lOX1BFTkRJTkcoc3RhdGUpIHsKICAgIHN0YXRlLmxvYWRpbmcgPSB0cnVlOwogIH0sCiAgTE9HSU5fU1VDQ0VTUzogZnVuY3Rpb24gTE9HSU5fU1VDQ0VTUyhzdGF0ZSkgewogICAgc3RhdGUubG9hZGluZyA9IGZhbHNlOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIGxvZ2luSXRlbSkgewogICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgY29tbWl0KCdMT0dJTl9QRU5ESU5HJyk7IC8vIGxvZ2luIHBlbmRpbmcKCiAgICByZXR1cm4gYXhpb3MucG9zdCgiL2FwaS9sb2dpbiIsIGxvZ2luSXRlbSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInRva2VuIiwgcmVzcG9uc2UuZGF0YS50b2tlbik7CiAgICAgIGNvbW1pdCgiU0VUX1RPS0VOIiwgcmVzcG9uc2UuZGF0YS50b2tlbik7CiAgICAgIGNvbW1pdCgnTE9HSU5fU1VDQ0VTUycpOyAvLyBsb2dpbiBzdWNjZXNzCiAgICB9KTsKICB9LAogIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KF9yZWYyKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgIC8vIHByb21pc2Ug54K65LqG56K65L+dIGxvZ291dOaJjeWBmuWLleS9nAogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidG9rZW4iKTsKICAgICAgY29tbWl0KCdTRVRfVE9LRU4nLCBudWxsKTsKICAgICAgcmVzb2x2ZSgpOwogICAgfSk7CiAgfQp9Owp2YXIgZ2V0dGVycyA9IHsKICB0b2tlbjogZnVuY3Rpb24gdG9rZW4oc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS50b2tlbjsKICB9LAogIGxvYWRpbmc6IGZ1bmN0aW9uIGxvYWRpbmcoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5sb2FkaW5nOwogIH0KfTsKdmFyIGxvZ2luTW9kdWxlID0gewogIHN0YXRlOiBzdGF0ZSwKICBtdXRhdGlvbnM6IG11dGF0aW9ucywKICBhY3Rpb25zOiBhY3Rpb25zLAogIGdldHRlcnM6IGdldHRlcnMKfTsKZXhwb3J0IGRlZmF1bHQgbG9naW5Nb2R1bGU7"},{"version":3,"sources":["E:/ProgrammingLanguage/git/hacker_game/src/app/store/modules/login/index.js"],"names":["axios","state","token","loading","mutations","SET_TOKEN","LOGIN_PENDING","LOGIN_SUCCESS","actions","login","loginItem","commit","post","then","response","localStorage","setItem","data","logout","Promise","resolve","removeItem","getters","loginModule"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,KAAK,GAAG;AACZC,EAAAA,KAAK,EAAE,IADK;AAEZC,EAAAA,OAAO,EAAE;AAFG,CAAd;AAKA,IAAMC,SAAS,GAAG;AAChBC,EAAAA,SADgB,qBACNJ,KADM,EACCC,KADD,EACQ;AACtBD,IAAAA,KAAK,CAACC,KAAN,GAAcA,KAAd;AACD,GAHe;AAIhBI,EAAAA,aAJgB,yBAIFL,KAJE,EAIK;AACnBA,IAAAA,KAAK,CAACE,OAAN,GAAgB,IAAhB;AACD,GANe;AAOhBI,EAAAA,aAPgB,yBAOFN,KAPE,EAOK;AACnBA,IAAAA,KAAK,CAACE,OAAN,GAAgB,KAAhB;AACD;AATe,CAAlB;AAYA,IAAMK,OAAO,GAAG;AACdC,EAAAA,KADc,uBACIC,SADJ,EACe;AAAA,QAArBC,MAAqB,QAArBA,MAAqB;AAC3BA,IAAAA,MAAM,CAAC,eAAD,CAAN,CAD2B,CACF;;AACzB,WAAOX,KAAK,CAACY,IAAN,CAAW,YAAX,EAAyBF,SAAzB,EAAoCG,IAApC,CAAyC,UAACC,QAAD,EAAc;AAC5DC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,QAAQ,CAACG,IAAT,CAAcf,KAA5C;AACAS,MAAAA,MAAM,CAAC,WAAD,EAAcG,QAAQ,CAACG,IAAT,CAAcf,KAA5B,CAAN;AACAS,MAAAA,MAAM,CAAC,eAAD,CAAN,CAH4D,CAGnC;AAC1B,KAJM,CAAP;AAKD,GARa;AASdO,EAAAA,MATc,yBASK;AAAA,QAAVP,MAAU,SAAVA,MAAU;AACjB,WAAO,IAAIQ,OAAJ,CAAY,UAACC,OAAD,EAAa;AAAG;AACjCL,MAAAA,YAAY,CAACM,UAAb,CAAwB,OAAxB;AACAV,MAAAA,MAAM,CAAC,WAAD,EAAc,IAAd,CAAN;AACAS,MAAAA,OAAO;AACR,KAJM,CAAP;AAKD;AAfa,CAAhB;AAmBA,IAAME,OAAO,GAAG;AACdpB,EAAAA,KAAK,EAAE,eAACD,KAAD;AAAA,WAAWA,KAAK,CAACC,KAAjB;AAAA,GADO;AAEdC,EAAAA,OAAO,EAAE,iBAAAF,KAAK;AAAA,WAAIA,KAAK,CAACE,OAAV;AAAA;AAFA,CAAhB;AAKA,IAAMoB,WAAW,GAAG;AAClBtB,EAAAA,KAAK,EAALA,KADkB;AAElBG,EAAAA,SAAS,EAATA,SAFkB;AAGlBI,EAAAA,OAAO,EAAPA,OAHkB;AAIlBc,EAAAA,OAAO,EAAPA;AAJkB,CAApB;AAOA,eAAeC,WAAf","sourcesContent":["import axios from \"axios\";\r\n\r\nconst state = {\r\n  token: null,\r\n  loading: false\r\n};\r\n\r\nconst mutations = {\r\n  SET_TOKEN(state, token) {\r\n    state.token = token;\r\n  },\r\n  LOGIN_PENDING(state) {\r\n    state.loading = true;\r\n  },\r\n  LOGIN_SUCCESS(state) {\r\n    state.loading = false;\r\n  }\r\n};\r\n\r\nconst actions = {\r\n  login({ commit }, loginItem) {\r\n    commit('LOGIN_PENDING'); // login pending\r\n    return axios.post(\"/api/login\", loginItem).then((response) => {\r\n      localStorage.setItem(\"token\", response.data.token);\r\n      commit(\"SET_TOKEN\", response.data.token);\r\n      commit('LOGIN_SUCCESS'); // login success\r\n    });\r\n  },\r\n  logout({ commit }) {\r\n    return new Promise((resolve) => {  // promise 為了確保 logout才做動作\r\n      localStorage.removeItem(\"token\");\r\n      commit('SET_TOKEN', null);\r\n      resolve();\r\n    });\r\n  }\r\n\r\n};\r\n\r\nconst getters = {\r\n  token: (state) => state.token,\r\n  loading: state => state.loading\r\n};\r\n\r\nconst loginModule = {\r\n  state,\r\n  mutations,\r\n  actions,\r\n  getters,\r\n};\r\n\r\nexport default loginModule;"]}]}