{"remainingRequest":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\babel-loader\\lib\\index.js!E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\ProgrammingLanguage\\git\\hacker_game\\src\\app\\components\\room\\RoomWait.vue?vue&type=template&id=3ea7be92","dependencies":[{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\src\\app\\components\\room\\RoomWait.vue","mtime":1655200322000},{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654422664000},{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\babel-loader\\lib\\index.js","mtime":1654422676000},{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1654422690000},{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654422664000},{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1654422684000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrIH0gZnJvbSAidnVlIjsKdmFyIF9ob2lzdGVkXzEgPSB7CiAgaWQ6ICJyb29tV2FpdFBsYXllciIKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJib3ggcm9vbVdhaXQtLWhlaWdodCIKfTsKdmFyIF9ob2lzdGVkXzMgPSB7CiAgbmFtZTogInRpdGxlIiwKICBzdHlsZTogewogICAgImhlaWdodCI6ICI2MHB4IiwKICAgICJ0ZXh0LWFsaWduIjogImNlbnRlciIKICB9LAogIGNsYXNzOiAidGl0bGUtZGl2Igp9Owp2YXIgX2hvaXN0ZWRfNCA9IHsKICBzdHlsZTogewogICAgImZvbnQtc2l6ZSI6ICIyNXB4IgogIH0KfTsKdmFyIF9ob2lzdGVkXzUgPSB7CiAgY2xhc3M6ICJjb2x1bW5zIgp9Owp2YXIgX2hvaXN0ZWRfNiA9IHsKICBjbGFzczogImNvbHVtbiBwbGF5ZXJJdGVtLS1kaXYiCn07CnZhciBfaG9pc3RlZF83ID0gewogIHN0eWxlOiB7CiAgICAiZm9udC1zaXplIjogIjEwMHB4IiwKICAgICJjb2xvciI6ICJyZWQiCiAgfQp9Owp2YXIgX2hvaXN0ZWRfOCA9IHsKICBjbGFzczogImNvbHVtbiIsCiAgc3R5bGU6IHsKICAgICJoZWlnaHQiOiAiNTAwcHgiCiAgfQp9Owp2YXIgX2hvaXN0ZWRfOSA9IHsKICBzdHlsZTogewogICAgImZvbnQtc2l6ZSI6ICIxMDBweCIsCiAgICAiY29sb3IiOiAiYmx1ZSIKICB9Cn07CnZhciBfaG9pc3RlZF8xMCA9IHsKICBuYW1lOiAic3RhcnQiLAogIHN0eWxlOiB7CiAgICAidGV4dC1hbGlnbiI6ICJjZW50ZXIiLAogICAgImhlaWdodCI6ICIyNXB4IgogIH0KfTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzMsIFtfY3JlYXRlVk5vZGUoInNwYW4iLCBfaG9pc3RlZF80LCBfdG9EaXNwbGF5U3RyaW5nKHRoaXMucm9vbUl0ZW0ubmFtZSksIDEKICAvKiBURVhUICovCiAgKV0pLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzUsIFtfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzYsIFtfY3JlYXRlVk5vZGUoImEiLCB7CiAgICBjbGFzczogImJveCIsCiAgICBzdHlsZTogewogICAgICAiaGVpZ2h0IjogIjEwMCUiCiAgICB9LAogICAgb25DbGljazogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkb3B0aW9ucy5pblRoZVJlZFJvb20gJiYgJG9wdGlvbnMuaW5UaGVSZWRSb29tLmFwcGx5KCRvcHRpb25zLCBhcmd1bWVudHMpOwogICAgfSkKICB9LCBbX2NyZWF0ZVZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfNywgX3RvRGlzcGxheVN0cmluZyh0aGlzLnJvb21JdGVtLnBsYXllcjFOYW1lKSwgMQogIC8qIFRFWFQgKi8KICApXSldKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF84LCBbX2NyZWF0ZVZOb2RlKCJhIiwgewogICAgY2xhc3M6ICJib3giLAogICAgc3R5bGU6IHsKICAgICAgImhlaWdodCI6ICIxMDAlIgogICAgfSwKICAgIG9uQ2xpY2s6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJG9wdGlvbnMuaW5UaGVCbHVlUm9vbSAmJiAkb3B0aW9ucy5pblRoZUJsdWVSb29tLmFwcGx5KCRvcHRpb25zLCBhcmd1bWVudHMpOwogICAgfSkKICB9LCBbX2NyZWF0ZVZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfOSwgX3RvRGlzcGxheVN0cmluZyh0aGlzLnJvb21JdGVtLnBsYXllcjJOYW1lKSwgMQogIC8qIFRFWFQgKi8KICApXSldKV0pLCBfY3JlYXRlVk5vZGUoImRpdiIsIF9ob2lzdGVkXzEwLCBbX2NyZWF0ZUNvbW1lbnRWTm9kZSgiIDxyb3V0ZXItbGluayA6dG89XCJ7IHBhdGg6ICcvcmVnaXN0ZXInLCBxdWVyeTogeyBwbGFuOiAncHJpdmF0ZScgfSB9XCI+XHJcbiAgICAgICAgICA+6ZaL5aeLPC9yb3V0ZXItbGlua1xyXG4gICAgICAgID4gIiksIF9jcmVhdGVWTm9kZSgiYSIsIHsKICAgIGNsYXNzOiAiYnV0dG9uIiwKICAgIG9uQ2xpY2s6IF9jYWNoZVszXSB8fCAoX2NhY2hlWzNdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJG9wdGlvbnMuc3RhcnRSb29tICYmICRvcHRpb25zLnN0YXJ0Um9vbS5hcHBseSgkb3B0aW9ucywgYXJndW1lbnRzKTsKICAgIH0pCiAgfSwgIumWi+WniyIpLCBfY3JlYXRlVk5vZGUoImEiLCB7CiAgICBjbGFzczogImJ1dHRvbiIsCiAgICBvbkNsaWNrOiBfY2FjaGVbNF0gfHwgKF9jYWNoZVs0XSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRvcHRpb25zLmRlbGV0ZVJvb20gJiYgJG9wdGlvbnMuZGVsZXRlUm9vbS5hcHBseSgkb3B0aW9ucywgYXJndW1lbnRzKTsKICAgIH0pCiAgfSwgIuWIqumZpOaIv+mWkyIpXSldKV0pOwp9"},{"version":3,"sources":["E:\\ProgrammingLanguage\\git\\hacker_game\\src\\app\\components\\room\\RoomWait.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div id=\"roomWaitPlayer\">\r\n    <div class=\"box roomWait--height\">\r\n      <div\r\n        name=\"title\"\r\n        style=\"height:60px; text-align:center\"\r\n        class=\"title-div\"\r\n      >\r\n        <span style=\"font-size:25px;\">{{ this.roomItem.name }}</span>\r\n      </div>\r\n      <div class=\"columns\">\r\n        <div class=\"column playerItem--div\">\r\n          <a class=\"box\" style=\"height:100%;\" @click=\"inTheRedRoom\">\r\n            <span style=\"font-size:100px; color: red\">\r\n              {{ this.roomItem.player1Name }}</span\r\n            >\r\n          </a>\r\n        </div>\r\n        <div class=\"column\" style=\"height:500px\">\r\n          <a class=\"box\" style=\"height:100%;\" @click=\"inTheBlueRoom\">\r\n            <span style=\"font-size:100px; color: blue\">\r\n              {{ this.roomItem.player2Name }}</span\r\n            >\r\n          </a>\r\n        </div>\r\n      </div>\r\n      <div name=\"start\" style=\"text-align: center; height:25px\">\r\n        <!-- <router-link :to=\"{ path: '/register', query: { plan: 'private' } }\">\r\n          >開始</router-link\r\n        > -->\r\n        <a class=\"button\" @click=\"startRoom\">開始</a>\r\n        <a class=\"button\" @click=\"deleteRoom\">刪除房間</a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { mapGetters } from \"vuex\";\r\n\r\n  export default {\r\n    name: \"RoomWait\",\r\n    data() {\r\n      return {\r\n        roomTitle: \"Come to play!!\",\r\n        roomPassword: \"\",\r\n        roomItem: [],\r\n      };\r\n    },\r\n    props: [\"roomId\", \"startRoomItem\"],\r\n\r\n    created() {\r\n      this.roomItem = this.startRoomItem;\r\n      // 獲得玩家資訊\r\n      this.$store.dispatch(\"getPlayerItems\").then(() => {\r\n        const token = localStorage.getItem(\"token\");\r\n        this.playerItem = this.$store.getters.playerItemFromToken(token);\r\n      });\r\n      console.log(\"this.roomId\", this.roomId);\r\n    },\r\n\r\n    mounted() {\r\n      // 定時任務(每秒執行);\r\n      let that = this;\r\n      this.timer = setInterval(function() {\r\n        that.$store.dispatch(\"getRoomItems\").then(() => {\r\n          that.roomItem = that.$store.getters.roomItemFromId(\r\n            Number(that.roomId)\r\n          );\r\n        });\r\n      }, 500);\r\n    },\r\n\r\n    computed: {\r\n      ...mapGetters([\"roomItems\"]), // mix the getters into computed with object spread operator\r\n    },\r\n    methods: {\r\n      createRoom() {\r\n        var lastId = 0;\r\n        if (!this.roomItems[this.roomItems.length - 1]) lastId = 1;\r\n        else lastId = this.roomItems[this.roomItems.length - 1].id + 1;\r\n\r\n        var newRoom = {\r\n          id: lastId,\r\n          name: this.roomTitle,\r\n          createrId: this.playerItem.id,\r\n          player1Id: this.playerItem.id,\r\n          player1Name: this.playerItem.name,\r\n          player2Id: null,\r\n          player2Name: null,\r\n          start: false,\r\n          password: this.roomPassword,\r\n        };\r\n\r\n        console.log(\"newRoom\", newRoom);\r\n        this.$store.dispatch(\"addRoomItem\", newRoom).then(() => {\r\n          // this.$router.push(\"/\");\r\n        });\r\n      },\r\n      deleteRoom() {\r\n        const deleteItem = { id: this.roomId };\r\n        this.$store.dispatch(\"removeRoomItem\", deleteItem).then(() => {\r\n          this.$parent.isCreate = false;\r\n          this.$parent.isInRoom = false;\r\n        });\r\n      },\r\n      startRoom() {\r\n        this.$router.push(\"/roomStart/\" + this.roomItem.id, {\r\n          name: this.roomItem.id,\r\n        });\r\n      },\r\n\r\n      inTheRedRoom() {\r\n        if (\r\n          this.roomItem.player1Id == null &&\r\n          this.roomItem.player2Id != this.playerItem.id\r\n        ) {\r\n          this.roomItem.player1Id = this.playerItem.id;\r\n          this.roomItem.player1Name = this.playerItem.name;\r\n        } else if (this.roomItem.player1Id == this.playerItem.id) {\r\n          this.roomItem.player1Id = null;\r\n          this.roomItem.player1Name = null;\r\n        }\r\n        console.log(this.roomItem);\r\n        this.$store.dispatch(\"updateRoomStart\", this.roomItem).then(() => {});\r\n      },\r\n\r\n      inTheBlueRoom() {\r\n        if (\r\n          this.roomItem.player2Id == null &&\r\n          this.roomItem.player1Id != this.playerItem.id\r\n        ) {\r\n          this.roomItem.player2Id = this.playerItem.id;\r\n          this.roomItem.player2Name = this.playerItem.name;\r\n        } else if (this.roomItem.player2Id == this.playerItem.id) {\r\n          this.roomItem.player2Id = null;\r\n          this.roomItem.player2Name = null;\r\n        }\r\n        console.log(this.roomItem);\r\n        this.$store.dispatch(\"updateRoomStart\", this.roomItem).then(() => {});\r\n      },\r\n    },\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .window--center {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n  }\r\n\r\n  .div--center {\r\n    text-align: center !important;\r\n  }\r\n\r\n  .roomWait--height {\r\n    height: 650px;\r\n  }\r\n\r\n  .playerItem--div {\r\n    height: 500px;\r\n    text-align: center;\r\n  }\r\n</style>\r\n"],"sourceRoot":""}]}