{"remainingRequest":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\babel-loader\\lib\\index.js!E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\ProgrammingLanguage\\git\\hacker_game\\src\\app\\components\\room\\RoomCreate.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\src\\app\\components\\room\\RoomCreate.vue","mtime":1655218484000},{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654422664000},{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\babel-loader\\lib\\index.js","mtime":1654422676000},{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654422664000},{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1654422684000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovUHJvZ3JhbW1pbmdMYW5ndWFnZS9naXQvaGFja2VyX2dhbWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlJvb21XYWl0IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcm9vbVRpdGxlOiAiQ29tZSB0byBwbGF5ISEiLAogICAgICByb29tUGFzc3dvcmQ6ICIiLAogICAgICByb29tSXRlbTogW10KICAgIH07CiAgfSwKICBwcm9wczogWyJyb29tSWQiXSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAvLyDnjbLlvpfnjqnlrrbos4foqIoKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJnZXRQbGF5ZXJJdGVtcyIpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICB2YXIgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKTsKICAgICAgX3RoaXMucGxheWVySXRlbSA9IF90aGlzLiRzdG9yZS5nZXR0ZXJzLnBsYXllckl0ZW1Gcm9tVG9rZW4odG9rZW4pOwogICAgfSk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLy8g5a6a5pmC5Lu75YuZKOavj+enkuWft+ihjCk7CiAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICB0aGF0LiRzdG9yZS5kaXNwYXRjaCgiZ2V0Um9vbUl0ZW1zIikudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhhdC5yb29tSXRlbSA9IHRoYXQuJHN0b3JlLmdldHRlcnMucm9vbUl0ZW1Gcm9tSWQoTnVtYmVyKHRoYXQucm9vbUlkKSk7CiAgICAgIH0pOwogICAgfSwgNTAwKTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsicm9vbUl0ZW1zIl0pKSwKICBtZXRob2RzOiB7CiAgICBjcmVhdGVSb29tOiBmdW5jdGlvbiBjcmVhdGVSb29tKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBsYXN0SWQgPSAwOwogICAgICBpZiAoIXRoaXMucm9vbUl0ZW1zW3RoaXMucm9vbUl0ZW1zLmxlbmd0aCAtIDFdKSBsYXN0SWQgPSAxO2Vsc2UgbGFzdElkID0gdGhpcy5yb29tSXRlbXNbdGhpcy5yb29tSXRlbXMubGVuZ3RoIC0gMV0uaWQgKyAxOwogICAgICB2YXIgbmV3Um9vbSA9IHsKICAgICAgICBpZDogbGFzdElkLAogICAgICAgIG5hbWU6IHRoaXMucm9vbVRpdGxlLAogICAgICAgIGNyZWF0ZXJJZDogdGhpcy5wbGF5ZXJJdGVtLmlkLAogICAgICAgIHBsYXllcjFJZDogdGhpcy5wbGF5ZXJJdGVtLmlkLAogICAgICAgIHBsYXllcjFOYW1lOiB0aGlzLnBsYXllckl0ZW0ubmFtZSwKICAgICAgICBwbGF5ZXIySWQ6IG51bGwsCiAgICAgICAgcGxheWVyMk5hbWU6IG51bGwsCiAgICAgICAgc3RhcnQ6IGZhbHNlLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLnJvb21QYXNzd29yZAogICAgICB9OwogICAgICBjb25zb2xlLmxvZygibmV3Um9vbSIsIG5ld1Jvb20pOwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiYWRkUm9vbUl0ZW0iLCBuZXdSb29tKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyBjb25zdCBlbWl0dGVyID0gbWl0dCgpOwogICAgICAgIC8vIGVtaXR0ZXIuZW1pdCgiaW50b1RoZVJvb20iLCBuZXdSb29tKTsKICAgICAgICBfdGhpczIuJHBhcmVudC5pc0NyZWF0ZSA9IGZhbHNlOwogICAgICAgIF90aGlzMi4kcGFyZW50LnJvb20gPSBuZXdSb29tOwogICAgICAgIF90aGlzMi4kcGFyZW50LmlzSW5Sb29tID0gdHJ1ZTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["E:\\ProgrammingLanguage\\git\\hacker_game\\src\\app\\components\\room\\RoomCreate.vue"],"names":[],"mappings":";;;AAmCE,SAAS,UAAT,QAA2B,MAA3B;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,UADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,SAAS,EAAE,gBADN;AAEL,MAAA,YAAY,EAAE,EAFT;AAGL,MAAA,QAAQ,EAAE;AAHL,KAAP;AAKD,GARY;AASb,EAAA,KAAK,EAAE,CAAC,QAAD,CATM;AAWb,EAAA,OAXa,qBAWH;AAAA;;AACR;AACA,SAAK,MAAL,CAAY,QAAZ,CAAqB,gBAArB,EAAuC,IAAvC,CAA4C,YAAM;AAChD,UAAM,KAAI,GAAI,YAAY,CAAC,OAAb,CAAqB,OAArB,CAAd;AACA,MAAA,KAAI,CAAC,UAAL,GAAkB,KAAI,CAAC,MAAL,CAAY,OAAZ,CAAoB,mBAApB,CAAwC,KAAxC,CAAlB;AACD,KAHD;AAID,GAjBY;AAmBb,EAAA,OAnBa,qBAmBH;AACR;AACA,QAAI,IAAG,GAAI,IAAX;AACA,SAAK,KAAL,GAAa,WAAW,CAAC,YAAW;AAClC,MAAA,IAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,cAArB,EAAqC,IAArC,CAA0C,YAAM;AAC9C,QAAA,IAAI,CAAC,QAAL,GAAgB,IAAI,CAAC,MAAL,CAAY,OAAZ,CAAoB,cAApB,CACd,MAAM,CAAC,IAAI,CAAC,MAAN,CADQ,CAAhB;AAGD,OAJD;AAKD,KANuB,EAMrB,GANqB,CAAxB;AAOD,GA7BY;AA+Bb,EAAA,QAAQ,oBACH,UAAU,CAAC,CAAC,WAAD,CAAD,CADP,CA/BK;AAkCb,EAAA,OAAO,EAAE;AACP,IAAA,UADO,wBACM;AAAA;;AACX,UAAI,MAAK,GAAI,CAAb;AACA,UAAI,CAAC,KAAK,SAAL,CAAe,KAAK,SAAL,CAAe,MAAf,GAAwB,CAAvC,CAAL,EAAgD,MAAK,GAAI,CAAT,CAAhD,KACK,MAAK,GAAI,KAAK,SAAL,CAAe,KAAK,SAAL,CAAe,MAAf,GAAwB,CAAvC,EAA0C,EAA1C,GAA+C,CAAxD;AAEL,UAAI,OAAM,GAAI;AACZ,QAAA,EAAE,EAAE,MADQ;AAEZ,QAAA,IAAI,EAAE,KAAK,SAFC;AAGZ,QAAA,SAAS,EAAE,KAAK,UAAL,CAAgB,EAHf;AAIZ,QAAA,SAAS,EAAE,KAAK,UAAL,CAAgB,EAJf;AAKZ,QAAA,WAAW,EAAE,KAAK,UAAL,CAAgB,IALjB;AAMZ,QAAA,SAAS,EAAE,IANC;AAOZ,QAAA,WAAW,EAAE,IAPD;AAQZ,QAAA,KAAK,EAAE,KARK;AASZ,QAAA,QAAQ,EAAE,KAAK;AATH,OAAd;AAYA,MAAA,OAAO,CAAC,GAAR,CAAY,SAAZ,EAAuB,OAAvB;AACA,WAAK,MAAL,CAAY,QAAZ,CAAqB,aAArB,EAAoC,OAApC,EAA6C,IAA7C,CAAkD,YAAM;AACtD;AACA;AACA,QAAA,MAAI,CAAC,OAAL,CAAa,QAAb,GAAwB,KAAxB;AACA,QAAA,MAAI,CAAC,OAAL,CAAa,IAAb,GAAoB,OAApB;AACA,QAAA,MAAI,CAAC,OAAL,CAAa,QAAb,GAAwB,IAAxB;AACD,OAND;AAOD;AA1BM;AAlCI,CAAf","sourcesContent":["<template>\r\n  <div id=\"roomWaitCreate\" v-if=\"!this.roomId\" class=\"room-wait-create\">\r\n    <div class=\"field\">\r\n      <label class=\"label\">房間名稱</label>\r\n      <div class=\"control\">\r\n        <input\r\n          class=\"input\"\r\n          type=\"text\"\r\n          placeholder=\"請輸入房間名稱...\"\r\n          v-model=\"roomTitle\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"field\">\r\n      <div class=\"block\">\r\n        <label class=\"label\">Password</label>\r\n        <div class=\"control\">\r\n          <input\r\n            class=\"input\"\r\n            type=\"password\"\r\n            placeholder=\"********\"\r\n            v-model=\"roomPassword\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"block\">\r\n      <a class=\"create-btn\" @click=\"createRoom\">建立</a>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { mapGetters } from \"vuex\";\r\n\r\n  export default {\r\n    name: \"RoomWait\",\r\n    data() {\r\n      return {\r\n        roomTitle: \"Come to play!!\",\r\n        roomPassword: \"\",\r\n        roomItem: [],\r\n      };\r\n    },\r\n    props: [\"roomId\"],\r\n\r\n    created() {\r\n      // 獲得玩家資訊\r\n      this.$store.dispatch(\"getPlayerItems\").then(() => {\r\n        const token = localStorage.getItem(\"token\");\r\n        this.playerItem = this.$store.getters.playerItemFromToken(token);\r\n      });\r\n    },\r\n\r\n    mounted() {\r\n      // 定時任務(每秒執行);\r\n      let that = this;\r\n      this.timer = setInterval(function() {\r\n        that.$store.dispatch(\"getRoomItems\").then(() => {\r\n          that.roomItem = that.$store.getters.roomItemFromId(\r\n            Number(that.roomId)\r\n          );\r\n        });\r\n      }, 500);\r\n    },\r\n\r\n    computed: {\r\n      ...mapGetters([\"roomItems\"]), // mix the getters into computed with object spread operator\r\n    },\r\n    methods: {\r\n      createRoom() {\r\n        var lastId = 0;\r\n        if (!this.roomItems[this.roomItems.length - 1]) lastId = 1;\r\n        else lastId = this.roomItems[this.roomItems.length - 1].id + 1;\r\n\r\n        var newRoom = {\r\n          id: lastId,\r\n          name: this.roomTitle,\r\n          createrId: this.playerItem.id,\r\n          player1Id: this.playerItem.id,\r\n          player1Name: this.playerItem.name,\r\n          player2Id: null,\r\n          player2Name: null,\r\n          start: false,\r\n          password: this.roomPassword,\r\n        };\r\n\r\n        console.log(\"newRoom\", newRoom);\r\n        this.$store.dispatch(\"addRoomItem\", newRoom).then(() => {\r\n          // const emitter = mitt();\r\n          // emitter.emit(\"intoTheRoom\", newRoom);\r\n          this.$parent.isCreate = false;\r\n          this.$parent.room = newRoom;\r\n          this.$parent.isInRoom = true;\r\n        });\r\n      },\r\n    },\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .window--center {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n  }\r\n\r\n  .div--center {\r\n    text-align: center !important;\r\n  }\r\n\r\n  .roomWait--height {\r\n    height: 650px;\r\n  }\r\n\r\n  .playerItem--div {\r\n    height: 500px;\r\n    text-align: center;\r\n  }\r\n\r\n  .room-wait-create {\r\n    background: none;\r\n    border: 5px solid white;\r\n    padding: 10px;\r\n    border-radius: 5px;\r\n  }\r\n\r\n  .room-wait-create label {\r\n    color: white;\r\n    text-align: center;\r\n    font-size: 50px;\r\n  }\r\n\r\n  .room-wait-create input {\r\n    color: color;\r\n    text-align: center;\r\n    height: 40px;\r\n    font-size: 30px;\r\n    background: none;\r\n    border: 2px solid rgba(35, 35, 35, 0.45);\r\n  }\r\n\r\n  .create-btn {\r\n  }\r\n</style>\r\n"],"sourceRoot":""}]}