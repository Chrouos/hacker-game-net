{"remainingRequest":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\thread-loader\\dist\\cjs.js!E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\babel-loader\\lib\\index.js!E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\ProgrammingLanguage\\git\\hacker_game\\src\\app\\components\\room\\RoomChat.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\src\\app\\components\\room\\RoomChat.vue","mtime":1655192468000},{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654422664000},{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1654422662000},{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\babel-loader\\lib\\index.js","mtime":1654422676000},{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1654422664000},{"path":"E:\\ProgrammingLanguage\\git\\hacker_game\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1654422684000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSb29tQ2hhdCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBsYXllckl0ZW06IFtdLAogICAgICBjaGF0czogW10sCiAgICAgIGNoYXRWYWx1ZTogIiIKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0UGxheWVySXRlbXMiKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIik7CiAgICAgIF90aGlzLnBsYXllckl0ZW0gPSBfdGhpcy4kc3RvcmUuZ2V0dGVycy5wbGF5ZXJJdGVtRnJvbVRva2VuKHRva2VuKTsKCiAgICAgIF90aGlzLnVwZGF0ZVNjcm9sbCgpOwogICAgfSk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLy/lrprmmYLku7vli5ko5q+P56eS5Z+36KGMKQogICAgdmFyIHRoYXQgPSB0aGlzOwogICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgdGhhdC4kc3RvcmUuZGlzcGF0Y2goImdldFJvb21DaGF0cyIpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHRoYXQuY2hhdHMgPSB0aGF0LiRzdG9yZS5nZXR0ZXJzLmNoYXRzSXRlbTsKICAgICAgICBpZiAodGhhdC4kcm91dGUucGF0aCA9PSAiL2xvYmJ5IikgdGhhdC5yZWxvYWQoKTsKICAgICAgfSk7CiAgICB9LCA1MDApOwogIH0sCiAgbWV0aG9kczogewogICAgZW50ZXJDaGF0OiBmdW5jdGlvbiBlbnRlckNoYXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGNoYXQgPSB7CiAgICAgICAgbmFtZTogdGhpcy5wbGF5ZXJJdGVtLm5hbWUsCiAgICAgICAgY2hhdDogdGhpcy5jaGF0VmFsdWUKICAgICAgfTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImFkZFJvb21DaGF0IiwgY2hhdCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLnVwZGF0ZVNjcm9sbCgpOwogICAgICB9KTsKICAgICAgdGhpcy5jaGF0VmFsdWUgPSAiIjsKICAgIH0sCiAgICB1cGRhdGVTY3JvbGw6IGZ1bmN0aW9uIHVwZGF0ZVNjcm9sbCgpIHsKICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicm9vbUNoYXQiKTsKICAgICAgZWxlbWVudC5zY3JvbGxUb3AgPSBlbGVtZW50LnNjcm9sbEhlaWdodCArIDEwOwogICAgfSwKICAgIHJlbG9hZDogZnVuY3Rpb24gcmVsb2FkKCkgewogICAgICB0aGlzLiRyZWZzLmNoYXREaXYuc2Nyb2xsVG9wID0gdGhpcy4kcmVmcy5jaGF0RGl2LnNjcm9sbEhlaWdodDsKICAgIH0KICB9Cn07"},{"version":3,"sources":["E:\\ProgrammingLanguage\\git\\hacker_game\\src\\app\\components\\room\\RoomChat.vue"],"names":[],"mappings":";AAwBE,SAAS,UAAT,QAA2B,MAA3B;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,UADO;AAEb,EAAA,IAFa,kBAEN;AACL,WAAO;AACL,MAAA,UAAU,EAAE,EADP;AAEL,MAAA,KAAK,EAAE,EAFF;AAGL,MAAA,SAAS,EAAE;AAHN,KAAP;AAKD,GARY;AAUb,EAAA,OAVa,qBAUH;AAAA;;AACR,SAAK,MAAL,CAAY,QAAZ,CAAqB,gBAArB,EAAuC,IAAvC,CAA4C,YAAM;AAChD,UAAM,KAAI,GAAI,YAAY,CAAC,OAAb,CAAqB,OAArB,CAAd;AACA,MAAA,KAAI,CAAC,UAAL,GAAkB,KAAI,CAAC,MAAL,CAAY,OAAZ,CAAoB,mBAApB,CAAwC,KAAxC,CAAlB;;AACA,MAAA,KAAI,CAAC,YAAL;AACD,KAJD;AAKD,GAhBY;AAkBb,EAAA,OAlBa,qBAkBH;AACR;AACA,QAAI,IAAG,GAAI,IAAX;AACA,SAAK,KAAL,GAAa,WAAW,CAAC,YAAW;AAClC,MAAA,IAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,cAArB,EAAqC,IAArC,CAA0C,YAAM;AAC9C,QAAA,IAAI,CAAC,KAAL,GAAa,IAAI,CAAC,MAAL,CAAY,OAAZ,CAAoB,SAAjC;AACA,YAAI,IAAI,CAAC,MAAL,CAAY,IAAZ,IAAoB,QAAxB,EAAkC,IAAI,CAAC,MAAL;AACnC,OAHD;AAID,KALuB,EAKrB,GALqB,CAAxB;AAMD,GA3BY;AA6Bb,EAAA,OAAO,EAAE;AACP,IAAA,SADO,uBACK;AAAA;;AACV,UAAM,IAAG,GAAI;AAAE,QAAA,IAAI,EAAE,KAAK,UAAL,CAAgB,IAAxB;AAA8B,QAAA,IAAI,EAAE,KAAK;AAAzC,OAAb;AACA,WAAK,MAAL,CAAY,QAAZ,CAAqB,aAArB,EAAoC,IAApC,EAA0C,IAA1C,CAA+C,YAAM;AACnD,QAAA,MAAI,CAAC,YAAL;AACD,OAFD;AAGA,WAAK,SAAL,GAAiB,EAAjB;AACD,KAPM;AASP,IAAA,YATO,0BASQ;AACb,UAAI,OAAM,GAAI,QAAQ,CAAC,cAAT,CAAwB,UAAxB,CAAd;AACA,MAAA,OAAO,CAAC,SAAR,GAAoB,OAAO,CAAC,YAAR,GAAuB,EAA3C;AACD,KAZM;AAcP,IAAA,MAdO,oBAcE;AACP,WAAK,KAAL,CAAW,OAAX,CAAmB,SAAnB,GAA+B,KAAK,KAAL,CAAW,OAAX,CAAmB,YAAlD;AACD;AAhBM;AA7BI,CAAf","sourcesContent":["<template>\r\n  <div class=\"block  \">\r\n    <div\r\n      id=\"roomChat\"\r\n      class=\"box room--chat-height scroll--room-list box-chatList\"\r\n      ref=\"chatDiv\"\r\n    >\r\n      <div v-for=\"chat in chats\">\r\n        <p>{{ chat.name }}: {{ chat.chat }}</p>\r\n      </div>\r\n    </div>\r\n    <div class=\"input-box-div\">\r\n      <input\r\n        v-model=\"chatValue\"\r\n        v-on:keyup.enter=\"enterChat\"\r\n        type=\"text\"\r\n        required=\"required\"\r\n      />\r\n      <span>Enter Chat...</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { mapGetters } from \"vuex\";\r\n\r\n  export default {\r\n    name: \"RoomChat\",\r\n    data() {\r\n      return {\r\n        playerItem: [],\r\n        chats: [],\r\n        chatValue: \"\",\r\n      };\r\n    },\r\n\r\n    created() {\r\n      this.$store.dispatch(\"getPlayerItems\").then(() => {\r\n        const token = localStorage.getItem(\"token\");\r\n        this.playerItem = this.$store.getters.playerItemFromToken(token);\r\n        this.updateScroll();\r\n      });\r\n    },\r\n\r\n    mounted() {\r\n      //定時任務(每秒執行)\r\n      let that = this;\r\n      this.timer = setInterval(function() {\r\n        that.$store.dispatch(\"getRoomChats\").then(() => {\r\n          that.chats = that.$store.getters.chatsItem;\r\n          if (that.$route.path == \"/lobby\") that.reload();\r\n        });\r\n      }, 500);\r\n    },\r\n\r\n    methods: {\r\n      enterChat() {\r\n        const chat = { name: this.playerItem.name, chat: this.chatValue };\r\n        this.$store.dispatch(\"addRoomChat\", chat).then(() => {\r\n          this.updateScroll();\r\n        });\r\n        this.chatValue = \"\";\r\n      },\r\n\r\n      updateScroll() {\r\n        var element = document.getElementById(\"roomChat\");\r\n        element.scrollTop = element.scrollHeight + 10;\r\n      },\r\n\r\n      reload() {\r\n        this.$refs.chatDiv.scrollTop = this.$refs.chatDiv.scrollHeight;\r\n      },\r\n    },\r\n  };\r\n</script>\r\n\r\n<style>\r\n  .scroll--room-list {\r\n    overflow: scroll;\r\n  }\r\n\r\n  .scroll--room-list::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n\r\n  .room--chat-height {\r\n    height: 450px;\r\n    overflow: scroll;\r\n  }\r\n\r\n  .box-chatList {\r\n    background: none;\r\n    height: 450px;\r\n    border-radius: 10px;\r\n    color: white;\r\n    border: 5px solid white;\r\n    overflow: scroll;\r\n    font-size: 20px;\r\n    transition: 0.5s;\r\n  }\r\n\r\n  .box-chatList:hover {\r\n    background: #21445c;\r\n  }\r\n\r\n  .input-box-div {\r\n    position: relative;\r\n    transition: 0.5s;\r\n  }\r\n\r\n  .input-box-div:hover {\r\n    background: #21445c;\r\n  }\r\n\r\n  .input-box-div input {\r\n    width: 100%;\r\n    height: 40px;\r\n    padding: 10px;\r\n    border: 5px solid rgba(255, 255, 255, 0.25);\r\n    background: none;\r\n    border-radius: 5px;\r\n    outline: none;\r\n    color: #fff;\r\n    font-size: 1em;\r\n  }\r\n\r\n  .input-box-div span {\r\n    position: absolute;\r\n    left: 0;\r\n    padding: 10px;\r\n    pointer-events: none;\r\n    font-size: 1em;\r\n    color: rgba(255, 255, 255, 0.25);\r\n    text-transform: uppercase;\r\n    transition: 0.5s;\r\n  }\r\n\r\n  .input-box-div input:valid ~ span,\r\n  .input-box-div input:focus ~ span {\r\n    color: #00dfc4;\r\n    transform: translateX(10px) translateY(50px);\r\n    font-size: 20px;\r\n    padding: 0 10px;\r\n    background: #152f41;\r\n    border-left: 1px solid white;\r\n    border-right: 1px solid white;\r\n    letter-spacing: 5px;\r\n  }\r\n</style>\r\n"],"sourceRoot":""}]}