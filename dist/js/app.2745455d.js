(function(t){function e(e){for(var r,i,c=e[0],l=e[1],s=e[2],u=0,p=[];u<c.length;u++)i=c[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);m&&m(e);while(p.length)p.shift()();return a.push.apply(a,s||[]),o()}function o(){for(var t,e=0;e<a.length;e++){for(var o=a[e],r=!0,c=1;c<o.length;c++){var l=o[c];0!==n[l]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=o[0]))}return t}var r={},n={app:0},a=[];function i(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=r,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(o,r,function(e){return t[e]}.bind(null,r));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var s=0;s<c.length;s++)e(c[s]);var m=l;a.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"0846":function(t,e,o){},"0b59":function(t,e,o){"use strict";o("2946")},2946:function(t,e,o){},4784:function(t,e,o){"use strict";o("b4f3")},"4b26":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var r=o("7a23"),n=(o("b0c0"),{key:0}),a=Object(r["g"])("span",null,"Logout",-1),i={href:"\\playerItem",class:"is-pulled-left navigation-buttons a--member",style:{"--clr":"#96E6E3"}},c=Object(r["g"])("i",{class:"fa-solid fa-user",style:{color:"white"}},null,-1);function l(t,e,o,l,s,m){var u=Object(r["w"])("router-view");return Object(r["p"])(),Object(r["d"])(r["a"],null,["/lobby"==t.$route.path?(Object(r["p"])(),Object(r["d"])("div",n,[Object(r["g"])("a",{onClick:e[1]||(e[1]=function(){return m.logout&&m.logout.apply(m,arguments)}),class:"is-pulled-left navigation-buttons a--logout",style:{"--clr":"#1B4A66"}},[a]),Object(r["g"])("a",i,[Object(r["g"])("span",null,[c,Object(r["f"])(" "+Object(r["y"])(s.playerItem.name),1)])])])):Object(r["e"])("",!0),Object(r["g"])(u)],64)}var s=o("5530"),m={id:"players",class:"box--playerList block"},u={class:"showPlayer"},p={class:"playerTable "},d=Object(r["g"])("tr",null,[Object(r["g"])("td",null,[Object(r["g"])("span",null,"ID")]),Object(r["g"])("td",null,[Object(r["g"])("span",null,"LEVEL")])],-1);function b(t,e,o,n,a,i){return Object(r["p"])(),Object(r["d"])("div",m,[Object(r["g"])("div",u,[Object(r["g"])("table",p,[d,(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(t.playerItems,(function(t){return Object(r["p"])(),Object(r["d"])("tr",{key:t.id},[Object(r["g"])("td",null,[Object(r["g"])("span",null,Object(r["y"])(t.name),1)]),Object(r["g"])("td",null,[Object(r["g"])("span",null,Object(r["y"])(t.level),1)])])})),128))])])])}var h=o("5502"),g={name:"PlayerList",created:function(){var t=this;this.$store.dispatch("getPlayerItems").then((function(){console.log("Total Player:",t.playerItems.length)}))},computed:Object(s["a"])({},Object(h["b"])(["playerItems"]))};o("627d");g.render=b;var O=g,j={key:0,id:"roomList",class:"block scroll--room-list room-list-div"},y={class:" room--list-height "},I={style:{margin:"10px"},class:"roomItem-box"},f={style:{width:"80vh"}},v={class:"roomItem-box-title"},w={class:"vs"},R={key:1,class:"password--box"},k={key:0,style:{color:"red"}},P={key:2,class:"block"},C={key:3,class:"block"},S={key:4,class:"block"},x=Object(r["g"])("span",null,"Create",-1),T={key:5,class:"block"},_=Object(r["g"])("span",null,"返回",-1);function $(t,e,o,n,a,i){var c=Object(r["w"])("RoomWait"),l=Object(r["w"])("RoomCreate");return Object(r["p"])(),Object(r["d"])(r["a"],null,[a.isInRoom||a.isCreate?Object(r["e"])("",!0):(Object(r["p"])(),Object(r["d"])("div",j,[Object(r["g"])("div",y,[(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(t.roomItems,(function(t){return Object(r["p"])(),Object(r["d"])("div",{key:t.id},[Object(r["g"])("div",I,[Object(r["g"])("a",{class:"box roomItem-box",onClick:function(e){return i.intoTheRoom(t)}},[Object(r["g"])("td",f,[Object(r["g"])("p",v,Object(r["y"])(t.name),1),Object(r["g"])("p",w,Object(r["y"])(t.player1Name)+" v.s "+Object(r["y"])(t.player2Name),1)])],8,["onClick"])])])})),128))])])),a.isPassword?(Object(r["p"])(),Object(r["d"])("div",R,[Object(r["C"])(Object(r["g"])("input",{type:"text",placeholder:"password","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.enterPassword=t}),onKeyup:e[2]||(e[2]=Object(r["D"])((function(){return i.enterRoom&&i.enterRoom.apply(i,arguments)}),["enter"]))},null,544),[[r["A"],a.enterPassword]]),a.errorPassword?(Object(r["p"])(),Object(r["d"])("p",k,"密碼輸入錯誤")):Object(r["e"])("",!0),Object(r["g"])("a",{onClick:e[3]||(e[3]=function(){return i.cancel&&i.cancel.apply(i,arguments)}),style:{color:"white"}},"back")])):Object(r["e"])("",!0),a.isInRoom&&!a.isCreate?(Object(r["p"])(),Object(r["d"])("div",P,[Object(r["g"])(c,{roomId:this.room.id,startRoomItem:this.room},null,8,["roomId","startRoomItem"])])):Object(r["e"])("",!0),a.isCreate?(Object(r["p"])(),Object(r["d"])("div",C,[Object(r["g"])(l)])):Object(r["e"])("",!0),a.isInRoom||a.isCreate?Object(r["e"])("",!0):(Object(r["p"])(),Object(r["d"])("div",S,[Object(r["g"])("a",{class:"button create-a",onClick:e[4]||(e[4]=function(){return i.createRoom&&i.createRoom.apply(i,arguments)})},[x])])),a.isInRoom||a.isCreate?(Object(r["p"])(),Object(r["d"])("div",T,[Object(r["g"])("a",{class:"button create-a",onClick:e[5]||(e[5]=function(){return i.returnRoom&&i.returnRoom.apply(i,arguments)})},[_])])):Object(r["e"])("",!0)],64)}var E={id:"roomWaitPlayer"},A={class:"box roomWait--height"},V={name:"title",style:{height:"60px","text-align":"center"},class:"title-div"},N={style:{"font-size":"25px"}},U={class:"columns"},D={class:"column playerItem--div"},L={style:{"font-size":"100px",color:"red"}},M={class:"column",style:{height:"500px"}},B={style:{"font-size":"100px",color:"blue"}},F={name:"start",style:{"text-align":"center",height:"25px"}};function W(t,e,o,n,a,i){return Object(r["p"])(),Object(r["d"])("div",E,[Object(r["g"])("div",A,[Object(r["g"])("div",V,[Object(r["g"])("span",N,Object(r["y"])(this.roomItem.name),1)]),Object(r["g"])("div",U,[Object(r["g"])("div",D,[Object(r["g"])("a",{class:"box",style:{height:"100%"},onClick:e[1]||(e[1]=function(){return i.inTheRedRoom&&i.inTheRedRoom.apply(i,arguments)})},[Object(r["g"])("span",L,Object(r["y"])(this.roomItem.player1Name),1)])]),Object(r["g"])("div",M,[Object(r["g"])("a",{class:"box",style:{height:"100%"},onClick:e[2]||(e[2]=function(){return i.inTheBlueRoom&&i.inTheBlueRoom.apply(i,arguments)})},[Object(r["g"])("span",B,Object(r["y"])(this.roomItem.player2Name),1)])])]),Object(r["g"])("div",F,[Object(r["g"])("a",{class:"button",onClick:e[3]||(e[3]=function(){return i.startRoom&&i.startRoom.apply(i,arguments)})},"開始"),Object(r["g"])("a",{class:"button",onClick:e[4]||(e[4]=function(){return i.deleteRoom&&i.deleteRoom.apply(i,arguments)})},"刪除房間")])])])}o("a9e3");var G={name:"RoomWait",data:function(){return{roomTitle:"Come to play!!",roomPassword:"",roomItem:[]}},props:["roomId","startRoomItem"],created:function(){var t=this;this.roomItem=this.startRoomItem,this.$store.dispatch("getPlayerItems").then((function(){var e=localStorage.getItem("token");t.playerItem=t.$store.getters.playerItemFromToken(e)})),console.log("this.roomId",this.roomId)},mounted:function(){var t=this;this.timer=setInterval((function(){t.$store.dispatch("getRoomItems").then((function(){t.roomItem=t.$store.getters.roomItemFromId(Number(t.roomId))}))}),500)},computed:Object(s["a"])({},Object(h["b"])(["roomItems"])),methods:{createRoom:function(){var t=0;t=this.roomItems[this.roomItems.length-1]?this.roomItems[this.roomItems.length-1].id+1:1;var e={id:t,name:this.roomTitle,createrId:this.playerItem.id,player1Id:this.playerItem.id,player1Name:this.playerItem.name,player2Id:null,player2Name:null,start:!1,password:this.roomPassword};console.log("newRoom",e),this.$store.dispatch("addRoomItem",e).then((function(){}))},deleteRoom:function(){var t=this,e={id:this.roomId};this.$store.dispatch("removeRoomItem",e).then((function(){t.$parent.isCreate=!1,t.$parent.isInRoom=!1}))},startRoom:function(){this.$router.push("/roomStart/"+this.roomItem.id,{name:this.roomItem.id})},inTheRedRoom:function(){null==this.roomItem.player1Id&&this.roomItem.player2Id!=this.playerItem.id?(this.roomItem.player1Id=this.playerItem.id,this.roomItem.player1Name=this.playerItem.name):this.roomItem.player1Id==this.playerItem.id&&(this.roomItem.player1Id=null,this.roomItem.player1Name=null),console.log(this.roomItem),this.$store.dispatch("updateRoomStart",this.roomItem).then((function(){}))},inTheBlueRoom:function(){null==this.roomItem.player2Id&&this.roomItem.player1Id!=this.playerItem.id?(this.roomItem.player2Id=this.playerItem.id,this.roomItem.player2Name=this.playerItem.name):this.roomItem.player2Id==this.playerItem.id&&(this.roomItem.player2Id=null,this.roomItem.player2Name=null),console.log(this.roomItem),this.$store.dispatch("updateRoomStart",this.roomItem).then((function(){}))}}};o("4784");G.render=W;var z=G,K={key:0,id:"roomWaitCreate",class:"room-wait-create"},H={class:"field"},Y=Object(r["g"])("label",{class:"label"},"房間名稱",-1),q={class:"control"},J={class:"field"},Q={class:"block"},X=Object(r["g"])("label",{class:"label"},"Password",-1),Z={class:"control"},tt={class:"block"};function et(t,e,o,n,a,i){return this.roomId?Object(r["e"])("",!0):(Object(r["p"])(),Object(r["d"])("div",K,[Object(r["g"])("div",H,[Y,Object(r["g"])("div",q,[Object(r["C"])(Object(r["g"])("input",{class:"input",type:"text",placeholder:"請輸入房間名稱...","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.roomTitle=t})},null,512),[[r["A"],a.roomTitle]])])]),Object(r["g"])("div",J,[Object(r["g"])("div",Q,[X,Object(r["g"])("div",Z,[Object(r["C"])(Object(r["g"])("input",{class:"input",type:"password",placeholder:"********","onUpdate:modelValue":e[2]||(e[2]=function(t){return a.roomPassword=t})},null,512),[[r["A"],a.roomPassword]])])])]),Object(r["g"])("div",tt,[Object(r["g"])("a",{class:"create-btn",onClick:e[3]||(e[3]=function(){return i.createRoom&&i.createRoom.apply(i,arguments)})},"建立")])]))}var ot={name:"RoomWait",data:function(){return{roomTitle:"Come to play!!",roomPassword:"",roomItem:[]}},props:["roomId"],created:function(){var t=this;this.$store.dispatch("getPlayerItems").then((function(){var e=localStorage.getItem("token");t.playerItem=t.$store.getters.playerItemFromToken(e)}))},mounted:function(){var t=this;this.timer=setInterval((function(){t.$store.dispatch("getRoomItems").then((function(){t.roomItem=t.$store.getters.roomItemFromId(Number(t.roomId))}))}),500)},computed:Object(s["a"])({},Object(h["b"])(["roomItems"])),methods:{createRoom:function(){var t=this,e=0;e=this.roomItems[this.roomItems.length-1]?this.roomItems[this.roomItems.length-1].id+1:1;var o={id:e,name:this.roomTitle,createrId:this.playerItem.id,player1Id:this.playerItem.id,player1Name:this.playerItem.name,player2Id:null,player2Name:null,start:!1,password:this.roomPassword};console.log("newRoom",o),this.$store.dispatch("addRoomItem",o).then((function(){t.$parent.isCreate=!1,t.$parent.room=o,t.$parent.isInRoom=!0}))}}};o("0b59");ot.render=et;var rt=ot,nt={name:"RoomList",data:function(){return{isInRoom:!1,room:[],isPassword:!1,enterPassword:"",errorPassword:!1,isCreate:!1}},created:function(){this.$store.dispatch("getRoomItems").then((function(){}))},mounted:function(){var t=this;this.timer=setInterval((function(){t.$store.dispatch("getRoomItems").then((function(){}))}),500)},computed:Object(s["a"])({},Object(h["b"])(["roomItems"])),methods:{intoTheRoom:function(t){console.log("intoTHEroom:",t),this.room=t,this.room.password?this.isPassword=!0:this.isInRoom=!0},createRoom:function(){this.room=[],this.isInRoom=!1,this.isCreate=!0},returnRoom:function(){this.isCreate=!1,this.isInRoom=!1},enterRoom:function(){this.room.password==this.enterPassword?(this.isInRoom=!0,this.isPassword=!1,this.errorPassword=!1):this.errorPassword=!0,this.enterPassword=""},cancel:function(){this.isPassword=!1}},components:{RoomWait:z,RoomCreate:rt}};o("62bd");nt.render=$;var at=nt,it={style:{width:"100%"}},ct={class:"columns"},lt={class:"column",style:{"background-color":"#BC3522"}},st=Object(r["g"])("div",{style:{color:"black",margin:"30px",opacity:"50%","user-select":"none"},class:"box"},[Object(r["g"])("p",null,"攻擊筆記"),Object(r["g"])("p",null,"1. protector: 防禦。（hp +100）"),Object(r["g"])("p",null," 2. beamCannon: 光束加農砲（hp -50），若對面下木馬會變對方的 "),Object(r["g"])("p",null,"3. hack: 駭入別人的，要四秒（hp -25）"),Object(r["g"])("p",null,"4. horse: 木馬"),Object(r["g"])("p",null,"5. worm: 不怕木馬（hp-25）"),Object(r["g"])("p",null,"努力佔據更多的節點吧!!"),Object(r["g"])("p",null,"假如要用防禦守住第一個節點 ex. protector 1")],-1),mt={style:{color:"black",margin:"30px",opacity:"40%","user-select":"none",height:"40%"},class:"box"},ut={style:{color:"white",margin:"30px",opacity:"40%","user-select":"none"}},pt={style:{"font-size":"200px"}},dt={name:"player1Input",class:"input--div",style:{left:"1%"}},bt={class:"middle--line"},ht=Object(r["g"])("div",{style:{height:"10vh"}},null,-1),gt={style:{"text-align":"center"}},Ot={key:0,class:"circle--size"},jt={class:"fa-regular fa-circle"},yt={key:1,class:"circle--size"},It={class:"fa-solid fa-circle",style:{color:"#BC3522"}},ft={key:2,class:"circle--size"},vt={class:"fa-solid fa-circle",style:{color:"#4D8EBF"}},wt={class:"column",style:{"background-color":"#4D8EBF"}},Rt=Object(r["g"])("div",{style:{color:"black",margin:"30px",opacity:"50%"},class:"box"},[Object(r["g"])("p",null,"攻擊筆記"),Object(r["g"])("p",null,"1. protector: 防禦。（hp +100）"),Object(r["g"])("p",null," 2. beamCannon: 光束加農砲（hp -50），若對面下木馬會變對方的 "),Object(r["g"])("p",null,"3. hack: 駭入別人的，要四秒（hp -25）"),Object(r["g"])("p",null,"4. horse: 木馬"),Object(r["g"])("p",null,"5. worm: 不怕木馬（hp-25）"),Object(r["g"])("p",null,"努力佔據更多的節點吧!!"),Object(r["g"])("p",null,"假如要用防禦守住第一個節點 ex. protector 1")],-1),kt={style:{color:"black",margin:"30px",opacity:"40%","user-select":"none",height:"40%"},class:"box"},Pt={style:{color:"white",margin:"30px",opacity:"40%","user-select":"none"}},Ct={style:{"font-size":"200px"}},St={name:"player2Input",class:"input--div",style:{right:"1%"}};function xt(t,e,o,n,a,i){return Object(r["p"])(),Object(r["d"])("div",it,[Object(r["g"])("div",ct,[Object(r["g"])("div",lt,[st,Object(r["g"])("div",mt,[(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(a.player1Memo,(function(t){return Object(r["p"])(),Object(r["d"])("div",null,Object(r["y"])(t),1)})),256))]),Object(r["g"])("div",ut,[Object(r["g"])("span",pt,Object(r["y"])(a.roomItem.player1Name),1)]),Object(r["g"])("div",dt,[a.redStart&&a.inRed?Object(r["C"])((Object(r["p"])(),Object(r["d"])("input",{key:0,class:"input--input",onKeyup:e[1]||(e[1]=Object(r["D"])((function(t){return i.playerEnter(1)}),["enter"])),"onUpdate:modelValue":e[2]||(e[2]=function(t){return a.player1Value=t})},null,544)),[[r["A"],a.player1Value]]):Object(r["e"])("",!0),a.redStart&&a.inRed?Object(r["e"])("",!0):Object(r["C"])((Object(r["p"])(),Object(r["d"])("input",{key:1,class:"input--input",style:{"background-color":"gray"},disabled:"true",onKeyup:e[3]||(e[3]=Object(r["D"])((function(t){return i.playerEnter(2)}),["enter"])),"onUpdate:modelValue":e[4]||(e[4]=function(t){return a.player2Value=t})},null,544)),[[r["A"],a.player2Value]])])]),Object(r["g"])("div",null,[Object(r["g"])("div",bt,[ht,Object(r["g"])("div",null,[(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(this.roomItem.circle,(function(t){return Object(r["p"])(),Object(r["d"])("div",gt,[t.owner?Object(r["e"])("",!0):(Object(r["p"])(),Object(r["d"])("span",Ot,[Object(r["g"])("i",jt," "+Object(r["y"])(t.id),1)])),"red"==t.owner?(Object(r["p"])(),Object(r["d"])("span",yt,[Object(r["g"])("i",It," "+Object(r["y"])(t.id),1)])):Object(r["e"])("",!0),"blue"==t.owner?(Object(r["p"])(),Object(r["d"])("span",ft,[Object(r["g"])("i",vt," "+Object(r["y"])(t.id),1)])):Object(r["e"])("",!0)])})),256))])])]),Object(r["g"])("div",wt,[Rt,Object(r["g"])("div",kt,[(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(a.player2Memo,(function(t){return Object(r["p"])(),Object(r["d"])("div",null,Object(r["y"])(t),1)})),256))]),Object(r["g"])("div",Pt,[Object(r["g"])("span",Ct,Object(r["y"])(a.roomItem.player2Name),1)]),Object(r["g"])("div",St,[a.blueStart&&a.inBlue?Object(r["C"])((Object(r["p"])(),Object(r["d"])("input",{key:0,class:"input--input",onKeyup:e[5]||(e[5]=Object(r["D"])((function(t){return i.playerEnter(2)}),["enter"])),"onUpdate:modelValue":e[6]||(e[6]=function(t){return a.player2Value=t})},null,544)),[[r["A"],a.player2Value]]):Object(r["e"])("",!0),a.blueStart&&a.inBlue?Object(r["e"])("",!0):Object(r["C"])((Object(r["p"])(),Object(r["d"])("input",{key:1,class:"input--input",style:{"background-color":"gray"},disabled:"true",onKeyup:e[7]||(e[7]=Object(r["D"])((function(t){return i.playerEnter(2)}),["enter"])),"onUpdate:modelValue":e[8]||(e[8]=function(t){return a.player2Value=t})},null,544)),[[r["A"],a.player2Value]])])])])])}o("ac1f"),o("1276");var Tt={name:"RoomStart",data:function(){return{player1Value:null,player2Value:null,roomItem:[],redStart:!1,blueStart:!1,player1Memo:[],player2Memo:[],prePlayer:"",inRed:!1,inBlue:!1}},props:["roomId"],created:function(){var t=this;this.$store.dispatch("getPlayerItems").then((function(){var e=localStorage.getItem("token");t.playerItem=t.$store.getters.playerItemFromToken(e)})),this.$store.dispatch("getRoomItems").then((function(){t.roomItem=t.$store.getters.roomItemFromId(Number(t.roomId)),"red"==t.roomItem.nowPlayer?(t.redStart=!0,t.prePlayer="red"):"blue"==t.roomItem.nowPlayer&&(t.blueStart=!0,t.prePlayer="blue"),t.playerItem.id==t.roomItem.player1Id?t.inRed=!0:t.playerItem.id==t.roomItem.player2Id&&(t.inBlue=!0),console.log(t.inRed,t.inBlue),t.start()}))},computed:{},mounted:function(){},methods:{start:function(){var t=this;this.timer=setInterval((function(){t.$store.dispatch("getRoomItems").then((function(){t.roomItem=t.$store.getters.roomItemFromId(Number(t.roomId)),t.roomItem.nowPlayer!=t.prePlayer&&(t.judgeWinner(),t.updatePlayer(),console.log("that.redStart, that.blueStart:",t.redStart,t.blueStart))}))}),500)},end:function(){clearInterval(this.timer),this.timer=null},playerEnter:function(t){var e=this;this.$store.dispatch("getRoomItems").then((function(){var o;e.roomItem=e.$store.getters.roomItemFromId(Number(e.roomId)),e.end(),1==t?(o=e.player1Value.split(/\s+/),e.player1Memo.push(e.player1Value)):2==t&&(o=e.player2Value.split(/\s+/),e.player2Memo.push(e.player2Value)),"protector"==o[0]?e.roomItem.circle[o[1]].hp=e.roomItem.circle[o[1]].hp+100:"beamCannon"!=o[0]||e.roomItem.circle[o[1]].temper?"horse"!=o[0]||e.roomItem.circle[o[1]].owner?"hack"==o[0]?"red"==e.roomItem.circle[o[1]].owner?(e.roomItem.circle[o[1]].status="hack",e.roomItem.circle[o[1]].temper="blue"):"blue"==e.roomItem.circle[o[1]].owner&&(e.roomItem.circle[o[1]].status="hack",e.roomItem.circle[o[1]].temper="red"):"worm"!=o[0]||e.roomItem.circle[o[1]].owner||(1==t?e.roomItem.circle[o[1]].temper="red":2==t&&(e.roomItem.circle[o[1]].temper="blue"),e.roomItem.circle[o[1]].status="worm"):e.roomItem.circle[o[1]].status="horse":(e.roomItem.circle[o[1]].temper||1!=t||("horse"==e.roomItem.circle[o[1]].status?e.roomItem.circle[o[1]].temper="blue":e.roomItem.circle[o[1]].temper="red",e.roomItem.circle[o[1]].status="beamCannon"),e.roomItem.circle[o[1]].temper||2!=t||("horse"==e.roomItem.circle[o[1]].status?e.roomItem.circle[o[1]].temper="red":e.roomItem.circle[o[1]].temper="blue",e.roomItem.circle[o[1]].status="beamCannon")),1==t?(e.player1Value=null,e.roomItem.nowPlayer="blue",e.blueStart=!0,e.redStart=!1):2==t&&(e.player2Value=null,e.roomItem.nowPlayer="red",e.redStart=!0,e.blueStart=!1),console.log(e.roomItem),e.updateBattlefield(),e.$store.dispatch("updateRoomStart",e.roomItem).then((function(){e.start()}))}))},judgeWinner:function(){for(var t=0,e=0,o=0;o<15;o++)"red"==this.roomItem.circle[o].owner?t+=1:"blue"==this.roomItem.circle[o].owner&&(e+=1);if(t+e>=15)if(this.playerItem.totalGame=this.playerItem.totalGame+1,t>e){this.roomItem.winner=this.roomItem.player1Id,this.roomItem.player1Id==this.playerItem.id&&(this.playerItem.winGame=this.playerItem.winGame+1),this.$store.dispatch("updatePlayerItem",this.playerItem).then((function(){}));var r={id:this.roomId};this.$store.dispatch("removeRoomItem",r).then((function(){})),this.$router.push({name:"RoomWinner",params:{winner:this.roomItem.player1Name}})}else if(e>t){this.roomItem.winner=this.roomItem.player2Id,this.roomItem.player2Id==this.playerItem.id&&(this.playerItem.winGame=this.playerItem.winGame+1),this.$store.dispatch("updatePlayerItem",this.playerItem).then((function(){}));var n={id:this.roomId};this.$store.dispatch("removeRoomItem",n).then((function(){})),this.$router.push({name:"RoomWinner",params:{winner:this.roomItem.player2Name}})}},updatePlayer:function(){"red"==this.roomItem.nowPlayer?(this.prePlayer="red",this.redStart=!0,this.blueStart=!1):"blue"==this.roomItem.nowPlayer&&(this.prePlayer="blue",this.redStart=!1,this.blueStart=!0)},updateBattlefield:function(){for(var t=0;t<15;t++)"beamCannon"==this.roomItem.circle[t].status&&(this.roomItem.circle[t].hp=this.roomItem.circle[t].hp-50),"hack"==this.roomItem.circle[t].status&&(this.roomItem.circle[t].hp=this.roomItem.circle[t].hp-25),"worm"==this.roomItem.circle[t].status&&(this.roomItem.circle[t].hp=this.roomItem.circle[t].hp-25),this.roomItem.circle[t].hp<=0&&(this.roomItem.circle[t].owner=this.roomItem.circle[t].temper)}},beforeUnmount:function(){clearInterval(this.timer)}};o("a78c");Tt.render=xt;var _t=Tt,$t={name:"App",components:{PlayerList:O,RoomList:at,RoomStart:_t},computed:Object(s["a"])({},Object(h["b"])(["token"])),data:function(){return{playerItem:[]}},created:function(){var t=this,e=localStorage.getItem("token");e&&(this.updateInitialState(e),this.$store.dispatch("getPlayerItems").then((function(){t.playerItem=t.$store.getters.playerItemFromToken(e),console.log(t.playerItem)})))},methods:{logout:function(){var t=this;this.$store.dispatch("logout").then((function(){t.$router.push("/login")})).catch((function(t){console.log(t)}))},updateInitialState:function(t){this.$store.dispatch("getPlayerItems",t),this.$store.dispatch("getRoomItems",t)}},watch:{token:function(){this.token&&this.updateInitialState(this.token)}}};o("ac92");$t.render=l;var Et=$t,At=(o("7db0"),o("bc3a")),Vt=o.n(At),Nt={playerItems:[]},Ut={UPDATE_PLAYER_ITEMS:function(t,e){t.playerItems=e}},Dt={getPlayerItems:function(t){var e=t.commit;return Vt.a.get("/api/players").then((function(t){e("UPDATE_PLAYER_ITEMS",t.data)}))},addPlayerItem:function(t,e){var o=t.commit;return Vt.a.post("/api/loginInsert",e).then((function(t){o("UPDATE_PLAYER_ITEMS",t.data)}))},updatePlayerItem:function(t,e){var o=t.commit;return console.log("index:",e),Vt.a.post("/api/playersUpdate",e).then((function(t){o("UPDATE_PLAYER_ITEMS",t.data)}))}},Lt={playerItems:function(t){return t.playerItems},playerItemFromToken:function(t){return function(e){return t.playerItems.find((function(t){return t.token===e}))}}},Mt={state:Nt,mutations:Ut,actions:Dt,getters:Lt},Bt=Mt,Ft={roomItems:[],roomChatItem:[]},Wt={UPDATE_ROOM_ITEMS:function(t,e){t.roomItems=e},UPDATE_ROOM_CHATS:function(t,e){t.roomChatItem=e}},Gt={getRoomItems:function(t){var e=t.commit;return Vt.a.get("/api/room").then((function(t){e("UPDATE_ROOM_ITEMS",t.data)}))},addRoomItem:function(t,e){var o=t.commit;return Vt.a.post("/api/room",e).then((function(t){o("UPDATE_ROOM_ITEMS",t.data)}))},removeRoomItem:function(t,e){var o=t.commit;return Vt.a.post("/api/room/delete",e).then((function(t){o("UPDATE_ROOM_ITEMS",t.data)}))},updateRoomStart:function(t,e){var o=t.commit;return Vt.a.post("/api/roomStartUpdate",e).then((function(t){o("UPDATE_ROOM_ITEMS",t.data)}))},getRoomChats:function(t){var e=t.commit;return Vt.a.get("/api/roomChat").then((function(t){e("UPDATE_ROOM_CHATS",t.data)}))},addRoomChat:function(t,e){var o=t.commit;return Vt.a.post("/api/roomChat",e).then((function(t){o("UPDATE_ROOM_CHATS",t.data)}))}},zt={roomItems:function(t){return t.roomItems},roomItemFromId:function(t){return function(e){return t.roomItems.find((function(t){return t.id===e}))}},chatsItem:function(t){return t.roomChatItem}},Kt={state:Ft,mutations:Wt,actions:Gt,getters:zt},Ht=Kt,Yt=(o("d3b7"),{token:null,loading:!1}),qt={SET_TOKEN:function(t,e){t.token=e},LOGIN_PENDING:function(t){t.loading=!0},LOGIN_SUCCESS:function(t){t.loading=!1}},Jt={login:function(t,e){var o=t.commit;return o("LOGIN_PENDING"),Vt.a.post("/api/login",e).then((function(t){localStorage.setItem("token",t.data.token),o("SET_TOKEN",t.data.token),o("LOGIN_SUCCESS")}))},logout:function(t){var e=t.commit;return new Promise((function(t){localStorage.removeItem("token"),e("SET_TOKEN",null),t()}))}},Qt={token:function(t){return t.token},loading:function(t){return t.loading}},Xt={state:Yt,mutations:qt,actions:Jt,getters:Qt},Zt=Xt,te=Object(h["a"])({modules:{player:Bt,room:Ht,login:Zt}}),ee=o("6c02"),oe={key:0},re=Object(r["g"])("a",{href:"/",class:"is-pulled-left navigation-buttons a--logout",style:{"--clr":"#1B4A66"}},[Object(r["g"])("span",null,"return")],-1),ne={id:"players",class:"playerItem"},ae={class:"playerInfo"},ie=Object(r["g"])("div",{name:"title",style:{"justify-content":"center","align-items":"center"}},[Object(r["g"])("p",{style:{"font-size":"60px"}},"角色資訊")],-1),ce={name:"information",class:"information"},le=Object(r["g"])("p",null,"遊戲ID",-1),se=Object(r["g"])("p",null,"自我介紹",-1),me=Object(r["g"])("p",null,"勝利場次",-1),ue=Object(r["g"])("span",null,"UPDATE",-1);function pe(t,e,o,n,a,i){return Object(r["p"])(),Object(r["d"])(r["a"],null,["/playerItem"==t.$route.path?(Object(r["p"])(),Object(r["d"])("div",oe,[re])):Object(r["e"])("",!0),Object(r["g"])("div",ne,[Object(r["g"])("div",null,[Object(r["g"])("form",ae,[ie,Object(r["g"])("div",ce,[le,Object(r["C"])(Object(r["g"])("input",{type:"text",placeholder:"遊戲ID","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.id=t})},null,512),[[r["A"],a.id]]),se,Object(r["C"])(Object(r["g"])("textarea",{type:"textarea",placeholder:"自我介紹","onUpdate:modelValue":e[2]||(e[2]=function(t){return a.introduce=t})},null,512),[[r["A"],a.introduce]]),me,Object(r["g"])("a",{class:"updateBtn",onClick:e[3]||(e[3]=function(){return i.update&&i.update.apply(i,arguments)})},[ue])])])])])],64)}var de={name:"PlayerList",data:function(){return{playerItem:[],id:"",introduce:""}},created:function(){var t=this;this.$store.dispatch("getPlayerItems").then((function(){var e=localStorage.getItem("token");t.playerItem=t.$store.getters.playerItemFromToken(e),console.log(t.playerItem),t.id=t.playerItem.name,t.introduce=t.playerItem.introduce}))},computed:Object(s["a"])({},Object(h["b"])(["token"])),methods:{update:function(){var t={id:this.playerItem.id,name:this.id,introduce:this.introduce,level:this.playerItem.level,winGame:this.playerItem.winGame,account:this.playerItem.account,password:this.playerItem.password,token:this.playerItem.token};console.log("updateItem",t),this.$store.dispatch("updatePlayerItem",t).then((function(){}))}}};o("c2e9");de.render=pe;var be=de,he={class:"container"},ge={class:"columns"},Oe={class:"column is-one-third"},je={class:"column"};function ye(t,e,o,n,a,i){var c=Object(r["w"])("PlayerList"),l=Object(r["w"])("RoomChat"),s=Object(r["w"])("RoomList");return Object(r["p"])(),Object(r["d"])("div",he,[Object(r["g"])("div",ge,[Object(r["g"])("div",Oe,[Object(r["g"])("div",null,[Object(r["g"])(c),Object(r["g"])(l)])]),Object(r["g"])("div",je,[Object(r["g"])("div",null,[Object(r["g"])(s)])])])])}var Ie={class:"block  "},fe={id:"roomChat",class:"box room--chat-height scroll--room-list box-chatList",ref:"chatDiv"},ve={class:"input-box-div"},we=Object(r["g"])("span",null,"Enter Chat...",-1);function Re(t,e,o,n,a,i){return Object(r["p"])(),Object(r["d"])("div",Ie,[Object(r["g"])("div",fe,[(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(a.chats,(function(t){return Object(r["p"])(),Object(r["d"])("div",null,[Object(r["g"])("p",null,Object(r["y"])(t.name)+": "+Object(r["y"])(t.chat),1)])})),256))],512),Object(r["g"])("div",ve,[Object(r["C"])(Object(r["g"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return a.chatValue=t}),onKeyup:e[2]||(e[2]=Object(r["D"])((function(){return i.enterChat&&i.enterChat.apply(i,arguments)}),["enter"])),type:"text",required:"required"},null,544),[[r["A"],a.chatValue]]),we])])}var ke={name:"RoomChat",data:function(){return{playerItem:[],chats:[],chatValue:""}},created:function(){var t=this;this.$store.dispatch("getPlayerItems").then((function(){var e=localStorage.getItem("token");t.playerItem=t.$store.getters.playerItemFromToken(e),t.updateScroll()}))},mounted:function(){var t=this;this.timer=setInterval((function(){t.$store.dispatch("getRoomChats").then((function(){t.chats=t.$store.getters.chatsItem,"/lobby"==t.$route.path&&t.reload()}))}),500)},methods:{enterChat:function(){var t=this,e={name:this.playerItem.name,chat:this.chatValue};this.$store.dispatch("addRoomChat",e).then((function(){t.updateScroll()})),this.chatValue=""},updateScroll:function(){var t=document.getElementById("roomChat");t.scrollTop=t.scrollHeight+10},reload:function(){this.$refs.chatDiv.scrollTop=this.$refs.chatDiv.scrollHeight}}};o("bc45");ke.render=Re;var Pe=ke,Ce={name:"RoomLobby",components:{PlayerList:O,RoomList:at,RoomStart:_t,RoomChat:Pe}};o("9439");Ce.render=ye;var Se=Ce,xe={class:"has-text-centered"},Te=Object(r["g"])("h1",{class:"title"}," Sorry. Page Not Found :( ",-1),_e=Object(r["g"])("p",null," Use the navigation links above to navigate between the product and cart screens. ",-1);function $e(t,e,o,n,a,i){return Object(r["p"])(),Object(r["d"])("div",xe,[Te,_e])}var Ee={name:"NotFound"};Ee.render=$e;var Ae=Ee,Ve=Object(r["E"])("data-v-453572d2");Object(r["s"])("data-v-453572d2");var Ne=Object(r["g"])("span",null,"Register",-1),Ue=Object(r["g"])("span",null,"Back",-1),De={key:2,id:"login",class:"box has-text-centered login-box "},Le={style:{width:"50%","horizontal-align":"middle",height:"80%"}},Me=Object(r["g"])("h2",{class:"title block",style:{color:"white",height:"20px","font-size":"30px"}}," Login ",-1),Be={class:"field container-input",style:{}},Fe=Object(r["g"])("label",{class:"label label--input",style:{color:"white","margin-top":"1em"}},"Account",-1),We={class:"control"},Ge=Object(r["g"])("label",{class:"label",style:{color:"white","margin-top":"1em"}},"Password",-1),ze={class:"control"},Ke={key:3,id:"rigister",class:"box has-text-centered login-box "},He={style:{width:"50%","horizontal-align":"middle",height:"80%"},class:"scroll--login-register"},Ye=Object(r["g"])("h2",{class:"title block",style:{color:"white",height:"20px","font-size":"30px"}}," Rigister ",-1),qe={class:"field container-input",style:{}},Je=Object(r["g"])("label",{class:"label label--input",style:{color:"white","margin-top":"1em"}},"Account",-1),Qe={class:"control"},Xe=Object(r["g"])("label",{class:"label",style:{color:"white","margin-top":"1em"}},"Password",-1),Ze={class:"control"},to=Object(r["g"])("label",{class:"label",style:{color:"white","margin-top":"1em"}},"Name",-1),eo={class:"control"},oo=Object(r["g"])("label",{class:"label",style:{color:"white","margin-top":"1em"}},"Introduce",-1),ro={class:"control"},no=Object(r["g"])("div",null,null,-1);Object(r["q"])();var ao=Ve((function(t,e,o,n,a,i){return Object(r["p"])(),Object(r["d"])(r["a"],null,[a.isRigi?Object(r["e"])("",!0):(Object(r["p"])(),Object(r["d"])("a",{key:0,onClick:e[1]||(e[1]=function(){return i.goRegister&&i.goRegister.apply(i,arguments)}),class:[[{"is-loading":t.loading},"button is-warning  is-light"]," toggle-button-rigister a--register"]},[Ne],2)),a.isRigi?(Object(r["p"])(),Object(r["d"])("a",{key:1,onClick:e[2]||(e[2]=function(){return i.goRegister&&i.goRegister.apply(i,arguments)}),class:[[{"is-loading":t.loading},"button is-warning  is-light"]," toggle-button-rigister a--register"]},[Ue],2)):Object(r["e"])("",!0),a.isRigi?Object(r["e"])("",!0):(Object(r["p"])(),Object(r["d"])("div",De,[Object(r["g"])("div",Le,[Me,Object(r["g"])("div",Be,[Fe,Object(r["g"])("div",We,[Object(r["C"])(Object(r["g"])("input",{class:"input",placeholder:"0000","onUpdate:modelValue":e[3]||(e[3]=function(t){return a.login_account=t})},null,512),[[r["A"],a.login_account]])]),Ge,Object(r["g"])("div",ze,[Object(r["C"])(Object(r["g"])("input",{class:"input","onUpdate:modelValue":e[4]||(e[4]=function(t){return a.login_password=t}),type:"password",placeholder:"********"},null,512),[[r["A"],a.login_password]])])])]),a.isRigi?Object(r["e"])("",!0):(Object(r["p"])(),Object(r["d"])("button",{key:0,onClick:e[5]||(e[5]=function(){return i.login&&i.login.apply(i,arguments)}),class:[[{"is-loading":t.loading},"button is-primary"],"toggle-button"]}," Login ",2)),a.isRigi?(Object(r["p"])(),Object(r["d"])("button",{key:1,onClick:e[6]||(e[6]=function(){return i.login&&i.login.apply(i,arguments)}),class:[[{"is-loading":t.loading},"button is-primary"],"toggle-button"]}," Rigister ",2)):Object(r["e"])("",!0)])),a.isRigi?(Object(r["p"])(),Object(r["d"])("div",Ke,[Object(r["g"])("div",He,[Ye,Object(r["g"])("div",qe,[Je,Object(r["g"])("div",Qe,[Object(r["C"])(Object(r["g"])("input",{class:"input",placeholder:"0000","onUpdate:modelValue":e[7]||(e[7]=function(t){return a.login_account=t})},null,512),[[r["A"],a.login_account]])]),Xe,Object(r["g"])("div",Ze,[Object(r["C"])(Object(r["g"])("input",{class:"input","onUpdate:modelValue":e[8]||(e[8]=function(t){return a.login_password=t}),type:"password",placeholder:"********"},null,512),[[r["A"],a.login_password]])]),to,Object(r["g"])("div",eo,[Object(r["C"])(Object(r["g"])("input",{class:"input","onUpdate:modelValue":e[9]||(e[9]=function(t){return a.login_name=t}),placeholder:"test"},null,512),[[r["A"],a.login_name]])]),oo,Object(r["g"])("div",ro,[Object(r["C"])(Object(r["g"])("textarea",{class:"input","onUpdate:modelValue":e[10]||(e[10]=function(t){return a.login_introduce=t}),placeholder:"test",style:{height:"20%"}},null,512),[[r["A"],a.login_introduce]])])])]),a.isRigi?Object(r["e"])("",!0):(Object(r["p"])(),Object(r["d"])("button",{key:0,onClick:e[11]||(e[11]=function(){return i.login&&i.login.apply(i,arguments)}),class:[[{"is-loading":t.loading},"button is-primary"],"toggle-button"]}," Login ",2)),a.isRigi?(Object(r["p"])(),Object(r["d"])("button",{key:1,onClick:e[12]||(e[12]=function(){return i.register&&i.register.apply(i,arguments)}),class:[[{"is-loading":t.loading},"button is-primary"],"toggle-button"]}," Rigister ",2)):Object(r["e"])("",!0)])):Object(r["e"])("",!0),no],64)})),io={name:"LoginBox",data:function(){return{login_password:"",login_account:"",isRigi:!1,login_name:"",login_introduce:""}},computed:Object(s["a"])({},Object(h["b"])(["loading"])),methods:{login:function(){var t=this,e={account:this.login_account,password:this.login_password};console.log(e),this.$store.dispatch("login",e).then((function(){t.$router.push({path:"/lobby"})}))},goRegister:function(){this.isRigi=!this.isRigi},register:function(){var t={account:this.login_account,password:this.login_password,introduce:this.login_introduce,name:this.login_name};this.isRigi=!this.isRigi,this.$store.dispatch("addPlayerItem",t).then((function(){}))}}};o("d21d");io.render=ao,io.__scopeId="data-v-453572d2";var co=io,lo={class:"winner"},so=Object(r["g"])("p",null,null,-1);function mo(t,e,o,n,a,i){return Object(r["p"])(),Object(r["d"])("div",lo,[Object(r["g"])("p",null,"恭喜你 "+Object(r["y"])(o.winner)+"!!!!",1),so,Object(r["g"])("p",null,Object(r["y"])(a.waw)+"...",1)])}var uo={name:"RoomStart",data:function(){return{waw:5}},props:{winner:{type:String}},computed:{},created:function(){console.log("this.winner",this.winner),this.timer()},methods:{timer:function(){var t=this,e=this;this.time=setInterval((function(){e.waw=e.waw-1,0==e.waw&&t.$router.push("/lobby")}),1e3)},setTime:function(){this.timer()},stopTime:function(){this.time&&clearInterval(this.time)}}};o("f17e");uo.render=mo;var po=uo,bo=Object(ee["a"])({history:Object(ee["b"])(),routes:[{path:"/player",component:O},{path:"/playerItem",component:be},{path:"/RoomWinner",name:"RoomWinner",component:po,props:function(t){return t.params}},{path:"/roomList",component:at},{path:"/roomWait",component:z},{path:"/lobby",component:Se},{path:"/",redirect:"/login"},{path:"/roomStart/:roomId",component:_t,props:!0},{path:"/roomWait/:roomId",component:z,props:!0},{path:"/:pathMatch(.*)*",component:Ae},{path:"/login",component:co,beforeEnter:function(t,e,o){var r=localStorage.getItem("token");r?o("/lobby"):o()}}]});bo.beforeEach((function(t,e,o){var r=localStorage.getItem("token");r||"/login"===t.path?o():o("/login")}));var ho=bo;Object(r["c"])(Et).use(te).use(ho).mount("#app")},"61a2":function(t,e,o){},"627d":function(t,e,o){"use strict";o("0846")},"62bd":function(t,e,o){"use strict";o("74b8")},"74b8":function(t,e,o){},"74c5":function(t,e,o){},"84ca":function(t,e,o){},9439:function(t,e,o){"use strict";o("61a2")},"946a":function(t,e,o){},a78c:function(t,e,o){"use strict";o("946a")},ac92:function(t,e,o){"use strict";o("d26a")},b40b:function(t,e,o){},b4f3:function(t,e,o){},bc45:function(t,e,o){"use strict";o("b40b")},c2e9:function(t,e,o){"use strict";o("74c5")},d21d:function(t,e,o){"use strict";o("84ca")},d26a:function(t,e,o){},f17e:function(t,e,o){"use strict";o("4b26")}});
//# sourceMappingURL=app.2745455d.js.map